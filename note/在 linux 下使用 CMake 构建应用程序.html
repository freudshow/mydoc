<!DOCTYPE html>
<!-- saved from url=(0065)https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html -->
<html lang="zh-CN" style="" class="applicationcache geolocation history postmessage svg websockets localstorage sessionstorage websqldatabase webworkers hashchange pointerevents canvas audio canvastext video webgl cssgradients multiplebgs opacity rgba inlinesvg hsla supports svgclippaths smil no-touchevents fontface generatedcontent textshadow cssanimations backgroundsize borderimage borderradius boxshadow csscolumns csscolumns-width csscolumns-span csscolumns-fill csscolumns-gap csscolumns-rule csscolumns-rulecolor csscolumns-rulestyle csscolumns-rulewidth csscolumns-breakbefore csscolumns-breakafter csscolumns-breakinside flexbox flexboxlegacy cssreflections csstransforms csstransforms3d csstransitions indexeddb indexeddb-deletedatabase js ibm-v18 ibm-cxtype-3g no-hires linux chrome chrome6 webkit webkit5 ibm-grid-xlarge greater-china-imt"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
<meta name="viewport" content="width=device-width, initial-scale=1">      
<link rel="icon" href="https://www.ibm.com/favicon.ico">
<link rel="canonical" href="http://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html">
<meta name="geo.country" content="CN">
<meta name="dcterms.rights" content="© Copyright IBM Corporation 2009">
<meta name="dcterms.date" content="2009-02-05">
<meta name="description" content="本文介绍了一个跨平台的自动化构建系统 CMake 在 linux 上的使用方法。 CMake 是一个比 automake 更加容易使用的工具，能够使程序员从复杂的编译连接过程中解脱出来。文中通过一些例子介绍使用 CMake 处理多源文件目录的方法、查找并使用其他开发包的方法以及生成 debug 版和 release 版程序的方法。">	
<meta name="keywords" content="linux, cmake, tttlca, tttosca">
<meta name="robots" content="index,follow">
<title>在 linux 下使用 CMake 构建应用程序</title>
    
<script type="text/javascript" async="" charset="utf-8" id="utag_16" src="./在 linux 下使用 CMake 构建应用程序_files/f.txt"></script><script type="text/javascript" async="" charset="utf-8" id="utag_21" src="./在 linux 下使用 CMake 构建应用程序_files/bat.js"></script><script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/live.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_19" src="./在 linux 下使用 CMake 构建应用程序_files/hotjar-42920.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_53" src="./在 linux 下使用 CMake 构建应用程序_files/js"></script><script type="text/javascript" async="" charset="utf-8" id="tealium_cormetrics2" src="./在 linux 下使用 CMake 构建应用程序_files/eluminate.js"></script><script type="text/javascript" async="" charset="utf-8" id="dle_api_ad3bf161542b4236db2f7389cf5a2a85f2a3387d0418e0ba90e317e12f16411a" src="./在 linux 下使用 CMake 构建应用程序_files/p_ad3bf161542b4236db2f7389cf5a2a85f2a3387d0418e0ba90e317e12f16411a.js"></script><script src="./在 linux 下使用 CMake 构建应用程序_files/p_devwrks.js" type="application/javascript" async=""></script><script src="./在 linux 下使用 CMake 构建应用程序_files/p_devwrks.js" type="application/javascript" async=""></script><script src="./在 linux 下使用 CMake 构建应用程序_files/analytics-marketing.js" type="text/javascript" async=""></script><script src="./在 linux 下使用 CMake 构建应用程序_files/bluemix-analytics.min.js" type="application/javascript" async=""></script><script src="./在 linux 下使用 CMake 构建应用程序_files/callback=_dl.fn.lotameApi.callback" type="application/javascript" async=""></script><script src="./在 linux 下使用 CMake 构建应用程序_files/utag.js" type="application/javascript" async=""></script><script> 
    digitalData = {
        "page":{
            "category":{
                "primaryCategory":"SOFDCLNXCN"
            },
            "pageInfo":{
                "effectiveDate":"2009-02-05",
                "language":"zh-CN",
                "publishDate":"2009-02-05",
                "publisher":"IBM Corporation",
                "version":"v18",
                "ibm":{ 
                    "contentDelivery":"IBM developerWorks template",
                    "contentProducer":"IBM developerWorks",
                    "country":"CN",
                    "owner":"developerWorks/China/IBM",
                    "siteID":"DEVWRKS",
                    "subject":"SWGC0",
                    "type":"CT316",
                    "topic":"开发工具",
                    "topicId":"553",
                    "contentArea":"linux,opensource",
                    "contentAreaId":"2,7",
                    "contentType":"article",
                    "contentId":"368412",
                },
                "keywords":"linux, cmake, tttlca, tttosca",
                "description":"本文介绍了一个跨平台的自动化构建系统 CMake 在 linux 上的使用方法。 CMake 是一个比 automake 更加容易使用的工具，能够使程序员从复杂的编译连接过程中解脱出来。文中通过一些例子介绍使用 CMake 处理多源文件目录的方法、查找并使用其他开发包的方法以及生成 debug 版和 release 版程序的方法。"
            }
        }
    };
    window._analytics = {
        "coremetrics": false,
        "optimizely": false,
        "googleAddServices": false,
        "addRoll": false,
        "intercom": false,
        "fullStory": false,
        "hotjar": false,
        "tealeaf": false,
        "nps": false,
        "segment_key": 'HU3dbkAG5wE0F1IkRf9S1RexlAqo3jby'
    };
</script>
	
    <meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@developerworks">
<meta property="og:title" content="在 linux 下使用 CMake 构建应用程序">
<meta property="og:description" content="本文介绍了一个跨平台的自动化构建系统 CMake 在 linux 上的使用方法。 CMake 是一个比 automake 更加容易使用的工具，能够使程序员从复杂的编译连接过程中解脱出来。文中通过一些例子介绍使用 CMake 处理多源文件目录的方法、查找并使用其他开发包的方法以及生成 debug 版和 release 版程序的方法。">
    <meta property="og:image" content="http://www.ibm.com/developerworks/i/dw-social-201508.png">
<!-- Segment meta tag -->
<meta name="segment" property="developerWorks (developerWorks)" producttitle="developerWorks" value="Linux Chinese (developerWorks)">      
<!-- SITE MON : START (DO NOT DELETE) -->
<!-- developerWorks monitoring token -->
<!-- SITE MON : END (DO NOT DELETE) -->

<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<!-- <script src="//cdn.optimizely.com/js/5399420604.js"></script> -->
<!-- BEGIN: Use this section to set page specific variables for the Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=1&ibmCmaId=368412&ibmContentAreas=linux,opensource";</script>
<!--END -->
<script src="./在 linux 下使用 CMake 构建应用程序_files/ida_stats.js"></script>
<link href="./在 linux 下使用 CMake 构建应用程序_files/www.css" rel="stylesheet">
<link href="./在 linux 下使用 CMake 构建应用程序_files/syntaxhighlighter.css" rel="stylesheet">
<script src="./在 linux 下使用 CMake 构建应用程序_files/www.js"></script><style></style>
<script src="./在 linux 下使用 CMake 构建应用程序_files/syntaxhighlighter.js"></script>    
<link href="./在 linux 下使用 CMake 构建应用程序_files/tables.css" rel="stylesheet">
<script src="./在 linux 下使用 CMake 构建应用程序_files/tables.js"></script>   
<!--  Masthead/footer  -->
<link href="./在 linux 下使用 CMake 构建应用程序_files/dw-mf-v18.css" rel="stylesheet">
<!-- <link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/alt-signedin-ux.css" rel="stylesheet" /> -->   
<!--[if lt IE 9]>
    <link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-ie8fix.css?v=022216" rel="stylesheet" />
<![endif]-->
<link href="./在 linux 下使用 CMake 构建应用程序_files/dw-article.css" rel="stylesheet">
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-auth-properties.js"></script>
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-auth.js"></script>
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-mf.js"></script>
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-include.js"></script>     
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-article.js"></script>
<script src="./在 linux 下使用 CMake 构建应用程序_files/dw-auto-links.js"></script>     
<script src="./在 linux 下使用 CMake 构建应用程序_files/tactic.js"></script>
<script src="./在 linux 下使用 CMake 构建应用程序_files/tacticbindlinks.js"></script>

<!-- 
<PageMap>
    <DataObject type="document">
        <Attribute name="topic">开发工具</Attribute>
        <Attribute name="topicId">553</Attribute>
        <Attribute name="contentArea">linux,opensource</Attribute>
        <Attribute name="contentAreaId">2,7</Attribute>
        <Attribute name="abstract">本文介绍了一个跨平台的自动化构建系统 CMake 在 linux 上的使用方法。 CMake 是一个比 automake 更加容易使用的工具，能够使程序员从复杂的编译连接过程中解脱出来。文中通过一些例子介绍使用 CMake 处理多源文件目录的方法、查找并使用其他开发包的方法以及生成 debug 版和 release 版程序的方法。</Attribute>
        <Attribute name="pub.date">2009-02-05</Attribute>
        <Attribute name="contentType">article</Attribute>
    </DataObject>
</PageMap>
-->        

<style id="ibm-masthead-hidelinks">@media screen and (max-width: 552px) { .ibm-masthead-categories,#ibm-megamenu-sections{display:none} }@media screen and (max-width: 552px) { .ibm-mh-marketplace-link{display:none} }</style><style id="ibm-sitenav-menu-hidelinks">@media screen and (max-width: 694px) {.ibm-sitenav-menu-container .ibm-sitenav-menu-list > ul > li {display:none}.ibm-sitenav-menu-list > ul > .ibm-sitenav-menu-item-right {display:block}}@media screen and (min-width: 695px) {.ibm-mobilemenu-sitenavmenu > ul > li {display:none}}@media screen and (max-width: 343px) {.ibm-sitenav-menu-list > ul > .ibm-sitenav-menu-item-right {display:none}}@media screen and (min-width: 344px) {.ibm-mobilemenu-sitenavmenu > ul > .ibm-sitenav-menu-item-right {display:none}}</style><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_53" src="./在 linux 下使用 CMake 构建应用程序_files/utag.53.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_20" src="./在 linux 下使用 CMake 构建应用程序_files/utag.20.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_16" src="./在 linux 下使用 CMake 构建应用程序_files/utag.16.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_19" src="./在 linux 下使用 CMake 构建应用程序_files/utag.19.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_21" src="./在 linux 下使用 CMake 构建应用程序_files/utag.21.js"></script><script type="text/javascript" async="" charset="utf-8" id="LOTCC_10026" src="https://tags.crwdcntrl.net/c/10026/cc.js?ns=_cc10026&amp;pre=cn"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_45" src="./在 linux 下使用 CMake 构建应用程序_files/utag.45.js"></script><style type="text/css">@media only screen and (max-width:480px){.truste_box_overlay{width: 100%!important;margin: 0px!important;max-width: 100%!important;box-shadow: rgb(0,0,0,0.2) 0px 0px 16px 2px!important;}}@media only screen and (min-width:481px){.truste_box_overlay{width: 80%!important;margin: 20px auto!important;max-width: 800px!important;box-shadow: rgb(0,0,0,0.2) 0px 0px 16px 2px!important;}}</style><style type="text/css">@font-face {font-family: "ibm-plex-sans"; src: url("https://1.www.s81c.com/common/fonts/plex/v1/ibmplexsans-regular.woff2") format("woff2");font-family: "ibm-plex-sans"; src: url("https://1.www.s81c.com/common/fonts/plex/v1/ibmplexsans-regular.woff") format("woff");}</style><script language="javascript" type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/50200000.js"></script><script language="javascript" type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/52640000.js"></script><script language="javascript" type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/rules_50200000.js"></script><script language="javascript" type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/rules_52640000.js"></script><script language="javascript" type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/dispatcher-v3.js"></script><script src="./在 linux 下使用 CMake 构建应用程序_files/yahoo-min.js" type="text/javascript"></script><script src="./在 linux 下使用 CMake 构建应用程序_files/cp-v3.js" type="text/javascript"></script><script src="./在 linux 下使用 CMake 构建应用程序_files/json-min.js" type="text/javascript"></script><script async="" src="./在 linux 下使用 CMake 构建应用程序_files/modules-cf5028eda4f4b4aeb82e5b7555a3b16e.js"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><style type="text/css" class="jquery-comments-css">.jquery-comments ul.navigation li.active:after {background: #2793e6 !important;</style><style type="text/css" class="jquery-comments-css">.jquery-comments ul.navigation ul.dropdown li.active {background: #2793e6 !important;</style><style type="text/css" class="jquery-comments-css">.jquery-comments .highlight-background {background: #2793e6 !important;</style><style type="text/css" class="jquery-comments-css">.jquery-comments .highlight-font {color: #2793e6 !important;}</style><style type="text/css" class="jquery-comments-css">.jquery-comments .highlight-font-bold {color: #2793e6 !important;font-weight: bold;}</style><script src="./在 linux 下使用 CMake 构建应用程序_files/f(1).txt"></script><style type="text/css">.truste_cookie_prefs,#teconsent{display:none !important}</style><script type="text/javascript" async="" charset="utf-8" id="tealium_visitor_service_45main" src="./在 linux 下使用 CMake 构建应用程序_files/0163b42f510b002331a6dc7000e80406900260610093c"></script></head>
<body id="ibm-com" class="ibm-type ibm-sitenav-menu ibm-sitenav-menu-sticky ibm-masthead-sticky ibm-masthead-sticky-showing"><iframe src="javascript:&quot;&quot;" id="__cvo_iframe" style="width: 0px; height: 0px; border: 0px; position: absolute; left: -2000px;" src="./在 linux 下使用 CMake 构建应用程序_files/saved_resource.html"></iframe>
	
<div id="ibm-top" class="ibm-landing-page">

<!-- MASTHEAD_BEGIN -->
<div id="ibm-masthead" role="banner" aria-label="IBM" class="ibm-mhtype-minimal hastransition">
    <div id="ibm-universal-nav" class="">    
  
        <nav role="navigation" aria-label="IBM">
            <div id="ibm-home"><a href="https://www.ibm.com/cn/zh/?lnk=m">IBM®</a></div>
            <ul id="ibm-menu-links" role="toolbar" aria-label="Site map" class="ibm-hide">
                <li><a href="https://www.ibm.com/sitemap/cn/zh/">站点地图</a></li>
            </ul><div class="ibm-masthead-rightside"><p class="ibm-mh-marketplace-link ibm-button-link ibm-fleft ibm-padding-bottom-0"><a class="ibm-btn-small ibm-btn-sec ibm-btn-blue-50" href="https://www.ibm.com/cn-zh/marketplace?lnk=mp">市场</a></p><div id="ibm-search-module" role="search" aria-labelledby="ibm-masthead" class="ibm-has-scope">
            <div class="ibm-masthead-search-close"><p class="ibm-ind-link ibm-icononly ibm-padding-bottom-0"><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#" class="ibm-close-link ibm-nospacing">关闭</a></p></div><form id="ibm-search-form" action="https://www.ibm.com/Search/" method="get" aria-labelledby="ibm-masthead">
                <p>
                    <label for="q">IBM</label>
                    <input type="text" maxlength="100" value="" placeholder="搜索" name="q" id="q" aria-label="搜索 developerWorks" autocomplete="off" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="ibm-search-typeahead-container"><input name="lnk" type="hidden" value="mhsrch">
                    <input type="hidden" value="18" name="v">
                    <input type="hidden" value="utf" name="en">
                    <input type="hidden" value="zh" name="lang">
                    <input type="hidden" value="cn" name="cc">
                    <input type="hidden" name="sn" value="dw">
                    <input type="hidden" name="dws" value="cndw">
                    <input type="hidden" name="hpp" value="20">
                    <span class="ibm-search-scope ibm-fadeout" aria-expanded="true"><input class="ibm-styled-checkbox" data-init="false" type="checkbox" name="sn" value="" id="ibm-mh-scopeoption"> <label for="ibm-mh-scopeoption">In Marketplace</label></span><button role="button" type="submit" id="ibm-search" class="ibm-search-link" value="提交"><span class="ibm-access">提交</span></button>
                </p>
            </form><form class="ibm-hide" id="ibm-default-scope-form" action="https://www.ibm.com/marketplace/search/cn/zh-cn" method="get"><input name="terms" type="text"><input name="lnk" type="hidden" value="mhmpsrch"></form>
        </div><div id="ibm-search-typeahead-container" aria-expanded="true" class="ibm-search-typeahead-container ibm-fadeout"></div><ul aria-label="Tools" role="menubar" class="ibm-masthead-iconsonly"><li role="presentation" class="ibm-masthead-item-signin"><button role="button" aria-haspopup="true" aria-owns="ibm-signin-minimenu-container" class="ibm-profile-link">我的 IBM</button><ul id="ibm-signin-minimenu-container" role="menu" aria-label="Profile" class="ibm-dropdown-menu">    <li class="ibm-dropdown-menu-primary" role="presentation" data-linktype="notifications">       <a class="" href="https://myibm.ibm.com/dashboard/?lnk=mmi" tabindex="0">我的 IBM</a>     </li>    <li class="ibm-dropdown-menu-primary menu-heading" role="presentation">       <span tabindex="0">developerWorks</span>     </li>   <li class="ibm-dropdown-menu-primary ibm-signin-alt" role="presentation">     <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssologin.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-cmake%2Findex.html&amp;lang=zh&amp;a=dwmav" role="menuitem">登录</a>   </li>   <li class="ibm-dropdown-menu-primary dw-register-alt" role="presentation">     <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-cmake%2Findex.html&amp;lang=zh&amp;a=dwmav" role="menuitem">注册</a>   </li></ul></li><li role="presentation" class="ibm-masthead-item-menu"><button role="button" aria-haspopup="true" aria-owns="ibm-burger-menu-container" class="ibm-menu-link">站点导航</button></li></ul></div> 
        </nav>
  
        
       
    </div>
</div><div class="ibm-mobilemenu ibm-hide" id="ibm-burger-menu-container" aria-labelledby="ibm-burgermenu-a11y" role="dialog" tabindex="0"><p class="ibm-hide" id="ibm-burgermenu-a11y">站点导航</p><div class="ibm-mobilemenu-close"><p class="ibm-icononly ibm-fright ibm-ind-link ibm-nospacing"><a class="ibm-close-link" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html?lnk=hm#">关闭</a></p></div><div class="ibm-mobilemenu-section ibm-mobilemenu-sitenavmenu"><ul role="menubar"><li class="ibm-mobile-section-heading ibm-mobile-sitename">
        <a href="https://www.ibm.com/developerworks/cn/?lnk=hm">
            <img width="186" height="24" alt="developerWorks®" src="./在 linux 下使用 CMake 构建应用程序_files/dw-mf-wordmark.svg">
        </a>
    </li>
                            <li class="dw-navpage-learn" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/topics/?lnk=hm" role="menuitem" tabindex="0">学习</a>
                </li>
                    
                <li class="dw-navpage-develop" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/downloads/?lnk=hm" role="menuitem" tabindex="-1">开发</a>
                </li>                    

                <li class="dw-navpage-connect" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/community/?lnk=hm" role="menuitem" tabindex="-1">社区</a>
                </li>
                <li class="ibm-sitenav-menu-item-right">
                    <a href="https://www.ibm.com/ibm/cn/partners/start/?lnk=hm" role="menuitem" tabindex="-1">合作</a>
                </li>
        </ul></div><div class="ibm-mobilemenu-section"><ul class="ibm-mobilemenu-mhlinks" aria-label="发现 IBM"><li><a href="https://www.ibm.com/cn-zh/marketplace?lnk=hmmp">市场</a></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">产品</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/products/cn/zh/?lnk=hmhmpr_cnzh"><span>产品</span></a></li><li><a href="https://www.ibm.com/analytics/cn/zh/?lnk=hmmpr_bua_cnzh&amp;lnk2=learn"><span>大数据与分析</span></a></li><li><a href="https://www.ibm.com/cloud-computing/cn/zh?lnk=hmmpr_bucl_cnzh&amp;lnk2=learn"><span>云计算</span></a></li><li><a href="https://www.ibm.com/ibm/cn/cognitive/outthink/?lnk=hmmpr_buce_cnzh&amp;lnk2=learn"><span>认知</span></a></li><li><a href="https://www.ibm.com/watson/customer-engagement/cn-zh/?lnk=hm"><span>认知客户互动</span></a></li><li><a href="https://www.ibm.com/internet-of-things/cn-zh/?lnk=hmmpr_iot_cnzh&amp;lnk2=learn"><span>物联网</span></a></li><li><a href="https://www.ibm.com/solutions/cn/zh/index.html?lnk=hm"><span>行业解决方案</span></a></li><li><a href="https://www.ibm.com/it-infrastructure/cn-zh/?lnk=hmmpr_buit_cnzh&amp;lnk2=learn"><span>IT 基础架构</span></a></li><li><a href="https://www.ibm.com/mobilefirst/cn/zh/?lnk=hmmpr_bumf_cnzh&amp;lnk2=learn"><span>移动</span></a></li><li><a href="https://www.ibm.com/security/cn-zh/?lnk=hmmpr_buse_cnzh&amp;lnk2=learnquick"><span>IBM 安全</span></a></li><li><a href="https://www.ibm.com/social-business/cn-zh/?lnk=hm"><span>社交协作与人才管理</span></a></li><li><a href="https://www.ibm.com/services/cn/zh/watson/explorer.html?lnk=hm"><span>Watson</span></a></li></ul></div></div></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">服务</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/services/cn-zh/digital-reinvention/case/index.html?lnk=hm"><span>业务咨询</span></a></li><li><a href="https://www.ibm.com/technologyservices/cn/zh/?lnk=hmmse_ts_cnzh&amp;lnk2=learn#technology-outsourcing"><span>技术服务</span></a></li><li><a href="https://www.ibm.com/financing/cn/zh/index.html?lnk=hmmse_fin_cnzh&amp;lnk2=learn"><span>融资</span></a></li><li><a href="https://www.ibm.com/solutions/cn/zh/index.html?lnk=hm"><span>行业解决方案</span></a></li><li><a href="https://www.ibm.com/training/?lnk=hm"><span>培训与技能 (US)</span></a></li></ul></div></div></li><li><a href="https://www.ibm.com/solutions/cn/zh/?lnk=hmmin">行业</a></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">开发人员</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/developerworks/cn/?lnk=hmmdev_dw_cnzh&amp;lnk2=learn"><span>developerWorks</span></a></li><li><a href="https://www.ibm.com/partnerworld?lnk=hmmdev_pw_cnzh&amp;lnk2=learn"><span>PartnerWorld</span></a></li><li><a href="https://www.ibm.com/ibm/cn/partners/start/?masthead=&amp;lnk=hm"><span>云/AI 合作伙伴</span></a></li></ul></div></div></li><li><a href="https://www.ibm.com/support/cn/zh/?lnk=hmmsu_cnzh">支持</a></li><li><a href="https://www.ibm.com/employment/cn/?lnk=hmmca_cnzh">工作机会</a></li></ul></div></div><div class="ibm-mhplaceholder"></div><!-- MASTHEAD_END -->
	    
<!-- LAYOUT -->
<div id="ibm-content-wrapper">
    <!-- LEADSPACE_BEGIN -->
    <header role="banner" aria-labelledby="ibm-pagetitle-h1">
        
        <!-- MASTHEAD_SITENAV_BEGIN -->
        <div class="ibm-sitenav-menu-container" data-widgetprocessed="true">
    <div class="ibm-sitenav-menu-name">
        <a href="https://www.ibm.com/developerworks/cn/">
            <img width="186" height="24" alt="developerWorks®" src="./在 linux 下使用 CMake 构建应用程序_files/dw-mf-wordmark.svg">
        </a>
    </div>
    <div class="ibm-sitenav-menu-list">
        <ul role="menubar">
                            <li class="dw-navpage-learn" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/topics/" role="menuitem" tabindex="0">学习</a>
                </li>
                    
                <li class="dw-navpage-develop" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/downloads/" role="menuitem" tabindex="-1">开发</a>
                </li>                    

                <li class="dw-navpage-connect" role="presentation">
                    <a href="https://www.ibm.com/developerworks/cn/community/" role="menuitem" tabindex="-1">社区</a>
                </li>
                <li class="ibm-sitenav-menu-item-right">
                    <a href="https://www.ibm.com/ibm/cn/partners/start/" role="menuitem" tabindex="-1">合作</a>
                </li>
        </ul>
    </div>
</div>        <!-- MASTHEAD_SITENAV_END -->
        
        <!-- NAVIGATION_TRAIL_BEGIN -->
        <div id="ibm-leadspace-head" class="ibm-alternate">
            <div id="ibm-leadspace-body">
                <nav aria-label="Breadcrumb" role="navigation">                     
                            <ul id="dw-navigation-trail" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://www.ibm.com/developerworks/cn/topics/"><span itemprop="name">学习</span></a><meta itemprop="position" content="1"></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://www.ibm.com/developerworks/cn/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2"></li></ul>
                </nav>
            </div>
        </div>
        <!-- NAVIGATION_TRAIL_END -->
        
    </header>
    <!-- LEADSPACE_END -->
    
    <!-- MAIN_CONTENT_BEGIN -->
    <main role="main" aria-label=""> 
        <div id="ibm-pcon">
            <!-- BEGIN_IBM-CONTENT -->
            <div id="ibm-content">
                <!-- BEGIN_IBM-CONTENT-BODY -->
                <div id="ibm-content-body">
                    <!-- BEGIN_IBM-CONTENT-MAIN -->
                    <div id="ibm-content-main" class="dw-article">                        
                        <!-- BEGIN_INTERIOR-COLUMNS -->
                                <div class="ibm-columns dw-article-toc">
                                    <!-- LEFT_6_2_CONTENT_COLUMN_BEGIN -->  
                                    <div id="dw-article-toc-container" class="ibm-col-6-2">
                                        <div id="dw-article-toc-body" data-widget="scrollable" data-height="512" style="width: 380px; height: 512px;" class="ibm-widget-processed"><div class="nano-content" tabindex="-1" style="right: -15px;">
                                            <h2>内容</h2><div class="ibm-alternate-rule"><hr></div><ul role="directory" aria-label="内容" class="ibm-plain-list"><li class=""><a onclick="tocLink(&#39;#ibm-pagetitle-h1&#39;)" role="link" tabindex="0">概览</a></li><li class=""><a onclick="tocLink(&#39;#1CMake简介outline&#39;)" role="link" tabindex="0">CMake 简介</a></li><li class="dw-highlight"><a onclick="tocLink(&#39;#2第一个工程outline&#39;)" role="link" tabindex="0">第一个工程</a></li><li><a onclick="tocLink(&#39;#3处理多源文件目录的方法outline&#39;)" role="link" tabindex="0">处理多源文件目录的方法</a></li><li><a onclick="tocLink(&#39;#4在工程中查找并使用其他程序库的方法outline&#39;)" role="link" tabindex="0">在工程中查找并使用其他程序库的方法</a></li><li><a onclick="tocLink(&#39;#5使用cmake生成debug版和release版的程序&#39;)" role="link" tabindex="0">使用 cmake 生成 debug 版和 release 版的程序</a></li><li><a onclick="tocLink(&#39;#artdownload&#39;)" role="link" tabindex="0">下载资源</a></li><li><a onclick="tocLink(&#39;#artrelatedtopics&#39;)" role="link" tabindex="0">相关主题</a></li><li><a onclick="tocLink(&#39;#icomments&#39;)" role="link" tabindex="0">评论</a></li></ul>
                                        </div><div class="nano-pane" style="display: none; opacity: 1; visibility: visible;"><div class="nano-slider" style="height: 497px; transform: translate(0px, 0px);"></div></div></div>
                                    </div>
                                    <!-- LEFT_6_2_CONTENT_COLUMN_END -->
                                    
                                    <!-- CENTER_6_4_CONTENT_COLUMN_BEGIN -->
                                    <div class="ibm-col-6-4">
                                        <h1 id="ibm-pagetitle-h1" class="ibm-h1">在 linux 下使用 CMake 构建应用程序</h1>
                                        <!-- Article Top Bar -->
                                                <div class="ibm-columns dw-article-topbar">
                                                    <!-- Author and article info. -->
                                                    <div class="ibm-col-6-2 ibm-col-medium-6-4 dw-article-metadata">
                                                        <div class="dw-article-avatar"><img width="42" height="42" src="./在 linux 下使用 CMake 构建应用程序_files/dw-author.png" alt=""></div><div class="dw-article-authordate">王 程明<br><span class="dw-article-pubdate">2009 年 2 月 05 日发布</span></div>
                                                    </div>
                                                    <!-- Social -->
                                                    <div class="ibm-col-6-2 ibm-col-medium-6-4 ibm-col-small-6-2 dw-article-social">
                                                        <!-- Sharing links -->
                                                        <div id="dw-article-share-inline">
                                                            <div class="dw-article-sharelink-inline">
                                                                <div class="ibm-sharethispage"><h4 class="ibm-bold">分享此页面</h4><p class="ibm-icononly"><a class="ibm-weibo-encircled-link" href="http://service.weibo.com/share/share.php?url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-cmake%2Findex.html%&amp;title=%E5%9C%A8%20linux%20%E4%B8%8B%E4%BD%BF%E7%94%A8%20CMake%20%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F&amp;language=zh_cn" data-id="weibo" onclick="return IBMCore.common.module.sharethispage.gotoUrl(window.open(), this);">Weibo</a><a class="ibm-googleplus-encircled-link" href="https://plus.google.com/share?url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-cmake%2Findex.html&amp;t=%E5%9C%A8%20linux%20%E4%B8%8B%E4%BD%BF%E7%94%A8%20CMake%20%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" data-id="googleplus" onclick="return IBMCore.common.module.sharethispage.gotoUrl(window.open(), this);">Google+</a><a class="ibm-email-encircled-link" href="mailto:?subject=%E5%9C%A8%20linux%20%E4%B8%8B%E4%BD%BF%E7%94%A8%20CMake%20%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F&amp;body=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-cmake%2Findex.html" data-id="email" onclick="">用电子邮件发送本页面</a></p></div>
                                                            </div>
                                                        </div>
                                                        <!-- Number of comments and link to comments -->
                                                        <div id="dw-article-cmts">
                                                            <div class="dw-article-cmtslink">
                                                                <a onclick="tocLink(&#39;#icomments&#39;)" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#icomments" role="link" tabindex="0" aria-label="Comments">
                                                                    <img src="./在 linux 下使用 CMake 构建应用程序_files/dw-article-cmt-icon.png" width="29" height="29" alt="Comments">
                                                                </a>
                                                            </div>
                                                            <div class="dw-article-cmtslink">
                                                                <a onclick="tocLink(&#39;#icomments&#39;)" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#icomments" role="link" tabindex="0">
                                                                    <div id="nCmts">0</div>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                        <!-- Article Body -->
                                        
                                        <h2 id="1CMake简介outline" class="ibm-h2">CMake 简介</h2><p>
CMake 是一个跨平台的自动化建构系统,它使用一个名为 CMakeLists.txt 的文件来描述构建过程,可以产生标准的构建文件,如 Unix 的 Makefile 或Windows Visual C++ 的 projects/workspaces 。文件 CMakeLists.txt 需要手工编写,也可以通过编写脚本进行半自动的生成。CMake 提供了比 autoconfig 更简洁的语法。在 linux 平台下使用 CMake 生成 Makefile 并编译的流程如下: 
</p><ol type="1"><li><code>编写</code><code> CmakeLists.txt</code><code>。</code><code></code></li><li><code><code>执行命令</code><code><code>“</code><code>cmake PATH</code><code>”</code><code><code>或者</code><code><code>“</code><code>ccmake PATH</code><code>”</code><code><code>生成</code><code> Makefile ( PATH </code><code>是</code><code> CMakeLists.txt </code><code>所在的目录</code><code> )</code><code>。</code></code></code></code></code></code></li><li><code><code><code>使用</code><code> make </code><code>命令进行编译。</code><code></code></code></code></li></ol><h2 id="2第一个工程outline" class="ibm-h2"><code><code><code>第一个工程</code></code></code></h2><p><code><code><code>现假设我们的项目中只有一<code>个源文件</code><code> main.cpp</code></code></code></code></p><h5 id="N10090" class="ibm-h5"><code><code>清单 1 源文件 main.cpp</code></code></h5><code><code><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_107566" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">1 #include&lt;</code><code class="htmlscript plain">iostream</code><code class="htmlscript plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">2 </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">3 int main()</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">4 {</code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">5&nbsp;&nbsp;&nbsp;&nbsp; std::cout&lt;&lt;"Hello word!"&lt;&lt;std::endl;</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">6&nbsp;&nbsp;&nbsp;&nbsp; return 0;</code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">7 }</code></div></div></td></tr></tbody></table></div></div></div></span><p>为了构建该项目,我们需要编写文件 CMakeLists.txt 并将其与 main.cpp 放在 
同一个目录下: </p><h5 id="N1009A" class="ibm-h5">清单 2 CMakeLists.txt</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_824737" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">1 PROJECT(main)</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">2 CMAKE_MINIMUM_REQUIRED(VERSION 2.6)</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">3 AUX_SOURCE_DIRECTORY(. DIR_SRCS)</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">4 ADD_EXECUTABLE(main ${DIR_SRCS})</code></div></div></td></tr></tbody></table></div></div></div></span><p>CMakeLists.txt 的语法比较简单,由命令、注释和空格组成,其中命令是不区分大小写的,符号"#"后面的内容被认为是注释。命令由命令名称、小括号和参数组成,参数之间使用空格进行间隔。例如对于清单2的 CMakeLists.txt 文件:第一行是一条命令,名称是 PROJECT ,参数是 main ,该命令表示项目的名称是 main 。第二行的命令限定了 CMake 的版本。第三行使用命令 AUX_SOURCE_DIRECTORY 将当前目录中的源文件名称赋值给变量 DIR_SRCS 。 CMake 手册中对命令 AUX_SOURCE_DIRECTORY 的描述如下: </p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_887679" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">aux_source_directory(&lt;</code><code class="htmlscript plain">dir</code><code class="htmlscript plain">&gt; &lt;</code><code class="htmlscript plain">variable</code><code class="htmlscript plain">&gt;)</code></div></div></td></tr></tbody></table></div></div></div></span><p>
该命令会把参数 &lt;dir&gt; 中所有的源文件名称赋值给参数 &lt;variable&gt; 。 第四行使用命令 ADD_EXECUTABLE 指示变量 DIR_SRCS 中的源文件需要编译 成一个名称为 main 的可执行文件。</p><p>
完成了文件 CMakeLists.txt 的编写后需要使用 cmake 或 ccmake 命令生成Makefile 。 ccmake 与命令 cmake 的不同之处在于 ccmake 提供了一个图形化的操作界面。cmake 命令的执行方式如下: </p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_49014" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">cmake [options] &lt;</code><code class="htmlscript plain">path-to-source</code><code class="htmlscript plain">&gt;</code></div></div></td></tr></tbody></table></div></div></div></span><p>
这里我们进入了 main.cpp 所在的目录后执行 “cmake .” 后就可以得到 Makefile 并使用 make 进行编译,如下图所示。</p><h5 id="N100BD" class="ibm-h5">图 1. camke 的运行结果</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/simple.JPG" class="ibm-downsize" alt="camke 的运行结果" height="278" width="469"><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show(&#39;N100C1&#39;);return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#N100C1">点击查看大图</a></p><h2 id="3处理多源文件目录的方法outline" class="ibm-h2">处理多源文件目录的方法</h2><p><code>CMake </code><code>处理源代码分</code>布在不同目录中的情况也十分简单。现假设我们的源代码<code>分布情况如下</code><code>: </code></p><h5 id="N100D6" class="ibm-h5">图 2. 源代码分布情况</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/step2-files.JPG" class="ibm-downsize" alt="源代码分布情况" height="203" width="276"><p>
其中 src 目录下的文件要编译成一个链接库。 
</p><h3 id="N100E1" class="ibm-h3">第一步，项目主目录中的 CMakeLists.txt</h3><p>
在目录 step2 中创建文件 CMakeLists.txt 。文件内容如下: 
</p><h5 id="N100EA" class="ibm-h5">清单 3 目录 step2 中的 CMakeLists.txt</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_825177" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">1 PROJECT(main)</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">2 CMAKE_MINIMUM_REQUIRED(VERSION 2.6) </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">3 ADD_SUBDIRECTORY( src )</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">4 AUX_SOURCE_DIRECTORY(. DIR_SRCS)</code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">5 ADD_EXECUTABLE(main ${DIR_SRCS}&nbsp; )</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">6 TARGET_LINK_LIBRARIES( main Test )</code></div></div></td></tr></tbody></table></div></div></div></span><p>相对于清单 2，该文件添加了下面的内容: 
第三行，使用命令 ADD_SUBDIRECTORY 指明本项目包含一个子目录 src 。第六行，使用命令 TARGET_LINK_LIBRARIES 指明可执行文件 main 需要连接一个名为Test的链接库 。</p><h3 id="N10101" class="ibm-h3">第二步，子目录中的 CmakeLists.txt</h3><p>
在子目录 src 中创建 CmakeLists.txt。文件内容如下:
</p><h5 id="N1010A" class="ibm-h5">清单 4. 目录 src 中的 CmakeLists.txt</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_173072" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">1 AUX_SOURCE_DIRECTORY(. DIR_TEST1_SRCS)</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">2 ADD_LIBRARY ( Test ${DIR_TEST1_SRCS})</code></div></div></td></tr></tbody></table></div></div></div></span><p>在该文件中使用命令 ADD_LIBRARY 将 src 目录中的源文件编译为共享库。
</p><h3 id="N1011A" class="ibm-h3">第三步，执行 cmake</h3><p>
至此我们完成了项目中所有 CMakeLists.txt 文件的编写,进入目录 step2 
中依次执行命令 “cmake .” 和 “make” 得到结果如下: 
</p><h5 id="N10122" class="ibm-h5">图3. 处理多源文件目录时 cmake 的执行结果</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/step2.JPG" class="ibm-downsize" alt="处理多源文件目录时 cmake 的执行结果" height="285" width="474"><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show(&#39;N10126&#39;);return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#N10126">点击查看大图</a></p><p>
在执行 cmake 的过程中,首先解析目录 step2 中的 CMakeLists.txt ,当程序执行命令 ADD_SUBDIRECTORY( src ) 时进入目录 src 对其中的 CMakeLists.txt 进行解析。 
</p><h2 id="4在工程中查找并使用其他程序库的方法outline" class="ibm-h2">在工程中查找并使用其他程序库的方法</h2><p>
在开发软件的时候我们会用到一些函数库,这些函数库在不同的系统中安装的位置可能不同,编译的时候需要首先找到这些软件包的头文件以及链接库所在的目录以便生成编译选项。例如一个需要使用博克利数据库项目,需要头文件db_cxx.h 和链接库 libdb_cxx.so ,现在该项目中有一个源代码文件 main.cpp ，放在项目的根目录中。 
</p><h3 id="N10134" class="ibm-h3">第一步，程序库说明文件</h3><p>
在项目的根目录中创建目录 cmake/modules/ ，在 cmake/modules/ 下创建文件 Findlibdb_cxx.cmake ，内容如下：
</p><h5 id="N1013D" class="ibm-h5">清单 5. 文件 Findlibdb_cxx.cmake</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_194460" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">01 MESSAGE(STATUS "Using bundled Findlibdb.cmake...")</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">0203 FIND_PATH(</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">04&nbsp;&nbsp; LIBDB_CXX_INCLUDE_DIR</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">05&nbsp;&nbsp; db_cxx.h </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">06&nbsp;&nbsp; /usr/include/ </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">07&nbsp;&nbsp; /usr/local/include/ </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">08&nbsp;&nbsp; )</code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">09 </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">10 FIND_LIBRARY(</code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">11&nbsp;&nbsp; LIBDB_CXX_LIBRARIES NAMES&nbsp; db_cxx</code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">12&nbsp;&nbsp; PATHS /usr/lib/ /usr/local/lib/</code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">13&nbsp;&nbsp; )</code></div></div></td></tr></tbody></table></div></div></div></span><p>文件 Findlibdb_cxx.cmake 的命名要符合规范: FindlibNAME.cmake ,其中NAME 是函数库的名称。Findlibdb_cxx.cmake 的语法与 CMakeLists.txt 相同。这里使用了三个命令： MESSAGE ， FIND_PATH 和 FIND_LIBRARY 。</p><ul class="ibm-bullet-list"><li><code>命令</code><code> MESSAGE </code><code>会</code><code>将参数</code><code>的内容</code><code>输出到终端</code><code>。</code></li><li><code>命令</code><code> FIND_PATH </code><code>指明头文件查找的路径，</code><code>原型如下</code><code>：</code><code><br>find_path(&lt;VAR&gt; name1 [path1 path2 ...]) </code><code>该命令在参数</code><code> path* </code><code>指示的目录中查找文件</code><code> name1 </code><code>并将查找到的路径保存在变量</code><code> VAR </code><code>中。清单</code><code>5</code><code>第</code><code>3</code><code>－</code><code>8</code><code>行的意思是在</code><code> /usr/include/ </code><code>和</code><code> /usr/local/include/ </code><code>中查找文件</code><code>db_cxx.h ,</code><code>并将</code><code><code>db_cxx.h </code><code>所在的路径保存在</code><code> LIBDB_CXX_INCLUDE_DIR</code><code><code>中。</code></code></code></li><li><code><code><code>命令</code><code> FIND_LIBRARY </code><code>同</code><code> FIND_PATH </code><code>类似</code><code>,</code><code>用于查找链接库并将结果保存在变量中。清单</code><code>5</code><code>第</code><code>10</code><code>－</code><code>13</code><code>行的意思是在目录</code><code> /usr/lib/ </code><code>和</code><code> /usr/local/lib/ </code><code>中寻找名称为</code><code> db_cxx </code><code>的链接库</code><code>,</code><code>并将结果保存在</code><code> LIBDB_CXX_LIBRARIES</code><code><code>。</code></code></code></code></li></ul><h3 id="N101DB" class="ibm-h3"><code><code>第二步, 项目的根目录中的 CmakeList.txt</code></code></h3><p><code><code>
在项目的根目录中创建 CmakeList.txt ： 
</code></code></p><h5 id="N101E4" class="ibm-h5"><code><code>清单 6. 可以查找链接库的 CMakeList.txt</code></code></h5><code><code><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_184371" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">01 PROJECT(main)</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">02 CMAKE_MINIMUM_REQUIRED(VERSION 2.6)</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">03 SET(CMAKE_SOURCE_DIR .)</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">04 SET(CMAKE_MODULE_PATH ${CMAKE_ROOT}/Modules ${CMAKE_SOURCE_DIR}/cmake/modules) </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">05 AUX_SOURCE_DIRECTORY(. DIR_SRCS)</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">06 ADD_EXECUTABLE(main ${DIR_SRCS})</code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">0708 FIND_PACKAGE( libdb_cxx REQUIRED)</code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">09 MARK_AS_ADVANCED(</code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">10 LIBDB_CXX_INCLUDE_DIR</code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">11 LIBDB_CXX_LIBRARIES</code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">12 )</code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">13 IF (LIBDB_CXX_INCLUDE_DIR AND LIBDB_CXX_LIBRARIES)</code></div><div class="line number13 index12 alt2"><code class="htmlscript plain">14 MESSAGE(STATUS "Found libdb libraries")</code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">15&nbsp;&nbsp;&nbsp; INCLUDE_DIRECTORIES(${LIBDB_CXX_INCLUDE_DIR})</code></div><div class="line number15 index14 alt2"><code class="htmlscript plain">16&nbsp;&nbsp;&nbsp;&nbsp; MESSAGE( ${LIBDB_CXX_LIBRARIES} )</code></div><div class="line number16 index15 alt1"><code class="htmlscript plain">17&nbsp;&nbsp;&nbsp;&nbsp; TARGET_LINK_LIBRARIES(main ${LIBDB_CXX_LIBRARIES}18 )</code></div><div class="line number17 index16 alt2"><code class="htmlscript plain">19 ENDIF (LIBDB_CXX_INCLUDE_DIR AND LIBDB_CXX_LIBRARIES)</code></div></div></td></tr></tbody></table></div></div></div></span><p>在该文件中第4行表示到目录 ./cmake/modules 中查找 Findlibdb_cxx.cmake ,8-19 行表示查找链接库和头文件的过程。第8行使用命令 FIND_PACKAGE 进行查找,这条命令执行后 CMake 会到变量 CMAKE_MODULE_PATH 指示的目录中查找文件 Findlibdb_cxx.cmake 并执行。第13-19行是条件判断语句,表示如果 LIBDB_CXX_INCLUDE_DIR 和 LIBDB_CXX_LIBRARIES 都已经被赋值,则设置编译时到 LIBDB_CXX_INCLUDE_DIR 寻找头文件并且设置可执行文件 main 需要与链接库 LIBDB_CXX_LIBRARIES 进行连接。
</p><h3 id="N10226" class="ibm-h3">第三步，执行 cmake</h3><p>
完成 Findlibdb_cxx.cmake 和 CMakeList.txt 的编写后在项目的根目录依次执行 “cmake . ” 和 “make ” 可以进行编译,结果如下图所示： 
</p><h5 id="N1022E" class="ibm-h5">图 4. 使用其他程序库时 cmake 的执行结果</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/step3.JPG" class="ibm-downsize" alt="使用其他程序库时 cmake 的执行结果" height="305" width="476"><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show(&#39;N10232&#39;);return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#N10232">点击查看大图</a></p><h2 id="5使用cmake生成debug版和release版的程序" class="ibm-h2">使用 cmake 生成 debug 版和 release 版的程序</h2><p>
在 Visual Studio 中我们可以生成 debug 版和 release 版的程序,使用 CMake 我们也可以达到上述效果。debug 版的项目生成的可执行文件需要有调试信息并且不需要进行优化,而 release 版的不需要调试信息但需要优化。这些特性在 gcc/g++ 中是通过编译时的参数来决定的,如果将优化程度调到最高需要设置参数-O3,最低是 -O0 即不做优化;添加调试信息的参数是 -g -ggdb ,如果不添加这个参数,调试信息就不会被包含在生成的二进制文件中。 </p><p>
CMake 中有一个变量 CMAKE_BUILD_TYPE ,可以的取值是 Debug Release RelWithDebInfo 和 MinSizeRel。当这个变量值为 Debug 的时候,CMake 会使用变量 CMAKE_CXX_FLAGS_DEBUG 和 CMAKE_C_FLAGS_DEBUG 中的字符串作为编译选项生成 Makefile ,当这个变量值为 Release 的时候,工程会使用变量 CMAKE_CXX_FLAGS_RELEASE 和 CMAKE_C_FLAGS_RELEASE 选项生成 Makefile。 </p><p>
现假设项目中只有一个文件 main.cpp ,下面是一个可以选择生成 debug 版和 release 版的程序的 CMakeList.txt ：
</p><h5 id="N10244" class="ibm-h5">清单 7</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_763727" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">1 PROJECT(main)</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">2 CMAKE_MINIMUM_REQUIRED(VERSION 2.6)</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">3 SET(CMAKE_SOURCE_DIR .)</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">45 SET(CMAKE_CXX_FLAGS_DEBUG "$ENV{CXXFLAGS} -O0 -Wall -g -ggdb")</code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">6 SET(CMAKE_CXX_FLAGS_RELEASE "$ENV{CXXFLAGS} -O3 -Wall")</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">78 AUX_SOURCE_DIRECTORY(. DIR_SRCS)</code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">9 ADD_EXECUTABLE(main ${DIR_SRCS})</code></div></div></td></tr></tbody></table></div></div></div></span><p>第 5 和 6 行设置了两个变量 CMAKE_CXX_FLAGS_DEBUG 和 CMAKE_CXX_FLAGS_RELEASE, 这两个变量是分别用于 debug 和 release 的编译选项。
编辑 CMakeList.txt 后需要执行 ccmake 命令生成 Makefile 。在进入项目的根目录,输入 "ccmake ." 进入一个图形化界面,如下图所示：</p><h5 id="N10263" class="ibm-h5">图 5. ccmake 的界面</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/step41.JPG" class="ibm-downsize" alt="ccmake 的界面" height="306" width="454"><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show(&#39;N10267&#39;);return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#N10267">点击查看大图</a></p><p>
按照界面中的提示进行操作,按 "c" 进行 configure ,这时界面中显示出了配置变量 CMAKE_BUILD_TYPE 的条目。如下图所示：
</p><h5 id="N1026F" class="ibm-h5">图 6. 执行了 configure 以后 ccmake 的界面</h5><img src="./在 linux 下使用 CMake 构建应用程序_files/step42.JPG" class="ibm-downsize" alt="执行了 configure 以后 ccmake 的界面" height="306" width="454"><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show(&#39;N10273&#39;);return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#N10273">点击查看大图</a></p><p>
下面我们首先生成 Debug 版的 Makefile ：将变量 CMAKE_BUILD_TYPE 设置为 Debug ,按 "c" 进行 configure ，按 "g" 生成 Makefile 并退出。这时执行命令 find * | xargs grep "O0" 后结果如下: 
</p><h5 id="N1027C" class="ibm-h5">清单 8 find * | xargs grep "O0"的执行结果</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_472090" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">CMakeFiles/main.dir/flags.make:CXX_FLAGS = -O0 -Wall -g -ggdb </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">CMakeFiles/main.dir/link.txt:/usr/bin/c++ -O0 -Wall -g -ggdb </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">CMakeFiles/main.dir/main.cpp.o -o main -rdynamic </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">CMakeLists.txt:SET(CMAKE_CXX_FLAGS_DEBUG "$ENV{CXXFLAGS} -O0 -Wall -g -ggdb")</code></div></div></td></tr></tbody></table></div></div></div></span><p>
这个结果说明生成的 Makefile 中使用了变量 CMAKE_CXX_FLAGS_DEBUG 作为编译时的参数。</p><p>
下面我们将生成 Release 版的 Makefile ：再次执行命令 "ccmake ." 将变量CMAKE_BUILD_TYPE 设置为 Release ,生成 Makefile 并退出。执行命令 find * | xargs grep "O0" 后结果如下：
</p><h5 id="N10288" class="ibm-h5">清单 9 find * | xargs grep "O0"的执行结果</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_336175" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">CMakeLists.txt:SET(CMAKE_CXX_FLAGS_DEBUG "$ENV{CXXFLAGS} -O0 -Wall -g -ggdb")</code></div></div></td></tr></tbody></table></div></div></div></span><p>
而执行命令 find * | xargs grep "O3" 后结果如下:</p><h5 id="N10292" class="ibm-h5">清单 10. find * | xargs grep "O3"的执行结果</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_166590" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">CMakeCache.txt:CMAKE_CXX_FLAGS_RELEASE:STRING=-O3 -DNDEBUG</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">CMakeCache.txt:CMAKE_C_FLAGS_RELEASE:STRING=-O3 -DNDEBUG</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">CMakeFiles/main.dir/flags.make:CXX_FLAGS = -O3 -Wall </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">CMakeFiles/main.dir/link.txt:/usr/bin/c++ -O3 -Wall </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">CMakeFiles/main.dir/main.cpp.o -o main -rdynamic </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">CMakeLists.txt:SET(CMAKE_CXX_FLAGS_RELEASE "$ENV{CXXFLAGS} -O3 -Wall")</code></div></div></td></tr></tbody></table></div></div></div></span><p>这两个结果说明生成的 Makefile 中使用了变量 CMAKE_CXX_FLAGS_RELEASE 作为编译时的参数。</p><!--CMA ID: 368412--><!--Site ID: 10--><!--XSLT stylesheet used to transform this file: dw-document-html-8.0.xsl-->
                                        <!-- Article Quiz -->
                                        
                                        <!-- Article Resources -->
                                        <div class="ibm-alternate-rule"><hr></div><h4 id="artdownload" class="ibm-h4">下载资源</h4><ul class="ibm-link-list"><li><a class="ibm-download-link" href="http://www.ibm.com/developerworks/apps/download/index.jsp?contentid=368412&amp;filename=src.rar&amp;method=http&amp;locale=zh_CN">样例代码</a> (src.rar | 11KB)</li></ul><div class="ibm-alternate-rule"><hr></div><h4 id="artrelatedtopics" class="ibm-h4">相关主题</h4><ul><li>
		要了解 CMake, 请参考其官方网站：<a href="http://www.cmake.org/">http://www.cmake.org/</a>。
	</li><li>
		维基百科中对 CMake 也有非常详细的说明，具体请参考：<a href="http://zh.wikipedia.org/wiki/CMake">http://zh.wikipedia.org/wiki/CMake</a>。
	</li><li> 在 <a href="http://www.ibm.com/developerworks/cn/linux/"> developerWorks Linux 专区</a> 寻找为 Linux 开发人员（包括 <a href="http://www.ibm.com/developerworks/cn/linux/newto/">Linux 新手入门</a>）准备的更多参考资料，查阅我们 <a href="http://www.ibm.com/developerworks/cn/linux/top10/indexhtml">最受欢迎的文章和教程</a>。 </li><li>在 developerWorks 上查阅所有 <a href="http://www.ibm.com/developerworks/cn/views/linux/libraryview.jsp?search_by=Linux+%E6%8A%80%E5%B7%A7"> Linux 技巧</a> 和 <a href="http://www.ibm.com/developerworks/cn/views/linux/libraryview.jsp?type_by=%E6%95%99%E7%A8%8B"> Linux 教程</a>。 </li></ul>
                                        <!-- Commenting -->
<!-- INLINE_COMMENTS_BEGIN: -->
<div class="ibm-alternate-rule"><hr></div>
<div id="dw-article-cmts-top" class="ibm-columns">
    <div class="ibm-col-6-2">
        <h4 id="icomments" class="ibm-h4">评论</h4>
        <div id="dw-article-cmts-login">
            <p>添加或订阅评论，请先<a onclick="window.location=userLinks[0].url;" tabindex="0" role="link">登录</a>或<a onclick="window.location=userLinks[1].url;" tabindex="0" role="link">注册</a>。</p>
        </div>
    </div>    
    <div class="ibm-col-6-2" id="dw-notify"> 
        <input type="checkbox" value="1" name="comment_notification" id="comment_notification" disabled="">
        <label for="comment_notification" style="color: rgb(204, 204, 204);">有新评论时提醒我</label>	   
    </div>
</div>

<div class="dw-article-cmts-container">       
    <div class="ibm-no-print jquery-comments read-only" id="dw-icomments-container"><div class="commenting-field main"><img src="./在 linux 下使用 CMake 构建应用程序_files/user-icon.png" alt="" class="profile-picture round by-current-user"><div class="textarea-wrapper"><span class="close" style="display: none;"><span class="left"></span><span class="right"></span></span><div class="textarea" data-placeholder="添加评论" contenteditable="true" style="height: 3.65em;"></div><div class="control-row" style="display: none;"><span class="send save highlight-background">提交</span></div></div></div><ul class="navigation"><div class="navigation-wrapper"><li data-sort-key="newest" data-container-name="comments" class="active">最新的</li><li data-sort-key="oldest" data-container-name="comments">历史</li><li data-sort-key="popularity" data-container-name="comments">热门</li></div><div class="navigation-wrapper responsive"><li class="title active"><header>最新的</header></li><ul class="dropdown"><li data-sort-key="newest" data-container-name="comments" class="active">最新的</li><li data-sort-key="oldest" data-container-name="comments">历史</li><li data-sort-key="popularity" data-container-name="comments">热门</li></ul></div></ul><div class="data-container" data-container="comments"><ul id="comment-list" class="main"></ul><div class="no-comments no-data"><i class="fa fa-comments fa-2x"></i><br>第一个评论</div></div></div>
</div>
<!-- INLINE_COMMENTS_END -->                                        <!-- CENTER_6_4_CONTENT_COLUMN_END -->
                                    </code></code></code></code></div><code><code>   
                                </code></code></div><code><code>
                        <!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Linux, Open source</div><div class="metavalue">ArticleID=368412</div><div class="metavalue">ArticleTitle=在 linux 下使用 CMake 构建应用程序</div><div class="metavalue">publish-date=02052009</div><script language="javascript" type="text/javascript">document.write('<div class="metavalue">url='+location.href.replace(/</g,  '%3C')+'</div>');</script><div class="metavalue">url=https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html</div><!--Rating_Meta_END-->
                    </code></code></div><code><code>
                    <!-- END_IBM-CONTENT-MAIN -->
                </code></code></div><code><code>
                <!-- END_IBM-CONTENT-BODY -->
            </code></code></div><code><code>
            <!-- END_IBM-CONTENT -->
        </code></code></div><code><code>
        <!-- END_IBM-PCON -->
    </code></code></main><code><code>
    <!-- MAIN_CONTENT_END -->
    
    <!-- END_CONTENT-WRAPPER -->	
</code></code></div><code><code>
<!-- FOOTER_BEGIN -->
<footer role="contentinfo" aria-label="IBM developerWorks">
    <div id="dw-footer-module" class="dw-footer-home">
        <section aria-label="参考资料" role="contentinfo">
            <div class="ibm-columns">
                <div class="ibm-col-6-1 dw-footer-col-1">
                    <ul>
                        <li class="dw-footer-heading" aria-label="developerWorks">developerWorks</li>
                        <li><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">站点反馈</a></li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina">我要投稿</a></li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/developerworks/cn/author/">投稿指南</a></li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/developerworks/community/report?lang=zh">报告滥用</a></li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/">第三方提示</a></li>
                    </ul>
                    <ul>
                        <li class="dw-footer-newline"><a href="https://weibo.com/ibmdw/">关注微博</a></li>
                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-2">
                    <ul>
                        <li class="dw-footer-heading" aria-label="加入">加入</li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/partnerworld/isv/">ISV 资源 (英语)</a></li>
                        <li class="dw-footer-newline"><a href="https://www-31.ibm.com/ibm/cn/ur/">大学合作</a></li>
                    </ul>
                    <ul class="dw-footer-lang" aria-label="选择语言">
                        <li class="dw-footer-heading">选择语言</li>
                        <li><a href="https://www.ibm.com/developerworks/">English</a></li>
                        <li><a href="https://www.ibm.com/developerworks/cn/" lang="zh">中文</a></li>
                        <li><a href="https://www.ibm.com/developerworks/jp/" lang="ja">日本語</a></li>
                        <li><a href="https://www.ibm.com/developerworks/ru/" lang="ru">Русский</a></li>
                        <li class="dw-footer-newline"><a href="https://www.ibm.com/developerworks/br/" lang="pt">Português (Brasil)</a></li>
                        <li><a href="https://www.ibm.com/developerworks/ssa/" lang="es">Español</a></li>
                        <li><a href="https://developer.ibm.com/kr/" lang="kr">한글</a></li>
                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-3"> </div>
                <div class="ibm-col-6-1 dw-footer-col-4">
                    <ul class="dw-footer-categories">
                        <li class="dw-footer-category">
                            <a href="https://www.ibm.com/developerworks/cn/views/global/libraryview.jsp">技术文档库</a>
                        </li>
                        <li class="dw-footer-category">
                            <a href="http://ibmdeveloperworks.mkt6741.com/developerWorksChina-NewsletterSubscriptionPage/">dW 中国时事通讯</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://developer.ibm.com/cn/dwblog/">博客</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://developer.ibm.com/cn/events/">活动</a>  
                        </li>
                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-5">
                    <ul class="dw-footer-categories">
                        <li class="dw-footer-category">
                            <a href="https://www.ibm.com/developerworks/cn/community/">社区</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://developer.ibm.com/cn/">开发者中心</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://developer.ibm.com/cn/tv/">视频</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://www.ibm.com/developerworks/cn/rss/">订阅源</a>  
                        </li>

                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-6">
                    <ul class="dw-footer-categories">
                        <li class="dw-footer-category">
                            <a href="https://www.ibm.com/developerworks/cn/downloads/">软件下载</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="https://developer.ibm.com/cn/journey/">Code patterns</a>  
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    <div id="dw-footer" class="ibm-padding-normal ibm-alternate">
        <div class="ibm-columns">
            <div class="ibm-col-1-1">
                <div class="dw-footer-corporate-links">
                <ul>
                    <li><a href="https://www.ibm.com/contact/cn/zh/">联系 IBM</a></li>
                    <li><a href="https://www.ibm.com/privacy/cn/zh/">隐私条约</a></li>
                    <li><a href="https://www.ibm.com/developerworks/community/terms?lang=zh">使用条款</a></li>
                    <li><a href="https://www.ibm.com/accessibility/cn/zh/">信息无障碍选项</a></li>
                    <li class="ibm-feedbacklink"><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#">反馈</a></li>
                    <li id="ibm-truste-cp"><a onclick="truste.eu.clickListener();return false;" href="https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/index.html#">Cookie 首选项</a></li>
                </ul>                 
                </div>    
            </div>
        </div>
    </div>        
</footer> <!-- FOOTER_END -->

<!-- END_IBM-TOP -->
</code></code></div><code><code>

<!-- SCRIPTS_INCLUDE_BEGIN -->
<!-- Styles -->
<link rel="stylesheet" type="text/css" href="./在 linux 下使用 CMake 构建应用程序_files/jquery-comments.css">
<link rel="stylesheet" href="./在 linux 下使用 CMake 构建应用程序_files/font-awesome.min.css">

<!-- Libraries -->
<script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/jquery-comments.min.js"></script>
<script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/moment-with-locales.js"></script>
<script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/ContentComments.js"></script>
<script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/ContentCommentsFormatter.js"></script>
<script type="text/javascript" language="JavaScript">

	IBMCore.common.module.masthead.subscribe("ready", "customjs", setupCommentsPlugin).runAsap(setupCommentsPlugin);

	function setupCommentsPlugin(){
		//debugger;
			//alert(userLinks);
			var commentsInitInfo = {
				contentId : $("div[class=metavalue]:contains('ArticleID=')").text().split("=")[1],
				siteId :  $("div[class=metavalue]:contains('SITE_ID=')").text().split("=")[1],
				pluginDivId : '#dw-icomments-container',
				notifyElementId : "#comment_notification",
				loginMessageDivId : "#dw-article-cmts-login",
				totalCommentsDivId : "#nCmts",
						isIdea:false

			};				
								
			ContentComments.Setup(commentsInitInfo);
	}
</script>

<!-- SCRIPTS_INCLUDE_END -->



</code></code><div id="ibm-overlay-backdrop"></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N100C1" role="dialog" aria-describedby="ibm-overlaywidget-N100C1-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N100C1-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N100C1"><img alt="camke 的运行结果" src="./在 linux 下使用 CMake 构建应用程序_files/simple.JPG" width="469"></div></div></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N10126" role="dialog" aria-describedby="ibm-overlaywidget-N10126-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N10126-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N10126"><img alt="处理多源文件目录时 cmake 的执行结果" src="./在 linux 下使用 CMake 构建应用程序_files/step2.JPG" width="474"></div></div></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N10232" role="dialog" aria-describedby="ibm-overlaywidget-N10232-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N10232-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N10232"><img alt="使用其他程序库时 cmake 的执行结果" src="./在 linux 下使用 CMake 构建应用程序_files/step3.JPG" width="476"></div></div></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N10267" role="dialog" aria-describedby="ibm-overlaywidget-N10267-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N10267-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N10267"><img alt="ccmake 的界面" src="./在 linux 下使用 CMake 构建应用程序_files/step41.JPG" width="454"></div></div></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N10273" role="dialog" aria-describedby="ibm-overlaywidget-N10273-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N10273-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N10273"><img alt="执行了 configure 以后 ccmake 的界面" src="./在 linux 下使用 CMake 构建应用程序_files/step42.JPG" width="454"></div></div></div><div id="teconsent" class="truste_cookie_prefs" style="position: fixed; display: none; height: 40px; background-color: #ffffff; z-index: 9999999999; bottom: 0; right: 0; margin: 0; padding: 0 16px; line-height: 40px; vertical-align: middle; box-shadow:0 0 10px 3px rgba(0,0,0,.1)" consent="undefined"><script type="text/javascript" src="./在 linux 下使用 CMake 构建应用程序_files/notice" id="truste_0.6908586338482965"></script><script async="async" type="text/javascript" crossorigin="" src="./在 linux 下使用 CMake 构建应用程序_files/1.9"></script><a id="icon-id01277388782166644" tabindex="0" role="button" lang="en" style="cursor: pointer; font-family: ibm-plex-sans; font-size: 12pt; color: #3d3d3d; text-decoration: none">Cookie Preferences</a></div><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;" src="./在 linux 下使用 CMake 构建应用程序_files/rcj-99d43ead6bdf30da8ed5ffcb4f17100c.html"></iframe><script src="./在 linux 下使用 CMake 构建应用程序_files/js(1)" id="mm_pp_background"></script><div id="ads"></div><div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.7576965722251603"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.00453873210150646" width="0" height="0" alt="" src="./在 linux 下使用 CMake 构建应用程序_files/0"></div><div id="ibm-mobilemenu-screen"></div><iframe src="./在 linux 下使用 CMake 构建应用程序_files/iframe.html" id="mm_batch_supply_background" style="visibility: hidden; display: none;"></iframe><iframe src="./在 linux 下使用 CMake 构建应用程序_files/iframe(1).html" id="mm_sync_back_ground" style="visibility: hidden; display: none;"></iframe></body></html>